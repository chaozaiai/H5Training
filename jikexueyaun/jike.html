<!DOCTYPE html>

<html><head><base target="_top"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript">var pay={invoke: function(cmd, params, success, fail) {if(!cmd) return false;var self = this,callbackName = 'callApp' + new Date().valueOf();self[callbackName] = function(data) {if(data) { if(typeof success == 'function') success(data);} else {if(typeof fail == 'function') fail(data);}delete self[callbackName];};var p = params;if(Object.prototype.toString.call(params) == "[object Object]") {p = JSON.stringify(params);}var obj = JSON.parse(p);var url = 'MetroAPP_Pay://' + cmd + "||" + obj.partnerid+ "/" + obj.prepayid + "/" + obj.noncestr + "/" + obj.timestamp + "/" + obj.sign;var _iframe = document.createElement("iframe");_iframe.style.display = 'none';_iframe.id = "forApp" + callbackName;_iframe.src = url;console.log(_iframe);document.documentElement.appendChild(_iframe);document.querySelector("#forApp" + callbackName).remove();}};function callpay(){pay.invoke("wechatpay",{"partnerid":"10019466","prepayid":"wx06103031339270226352ef844165005199","noncestr":"5b1c04dbf1264f432c7482f1a7770d3d","timestamp":"1533522631","sign":"45BF335E93568818434DBCE69E5E37DD",},function(data){alert(data);},function(data){alert("error");alert(data);});}</script></head><body  onload='javascript:callpay()'></body></html>